# π”Έ μ±•ν„° κΈ°λ° μμ„μ „ μΈν„°λ·° μ‹μ¤ν…

μ‚¬μ©μμ μΈμƒ μ—¬μ •μ„ μ²΄κ³„μ μΌλ΅ νƒκµ¬ν•λ” μ§€λ¥ν• μμ„μ „ μ‘μ„± μ‹μ¤ν…μ…λ‹λ‹¤.

## β¨ μ£Όμ” νΉμ§•

### π“ 5λ‹¨κ³„ μ±•ν„° κµ¬μ΅°
1. **κΈ°λ³Έ μ •λ³΄** - ν”„λ΅ν•„, μ¶μƒ λ° κ°€μ΅± λ°°κ²½
2. **μ„±μ¥ κ³Όμ •** - μ λ…„κΈ°, ν•™μ°½μ‹μ , κµμ΅ κ²½ν—  
3. **μ‚¬ν ν™λ™** - μ»¤λ¦¬μ–΄, μ—…μ  λ° μ‹¤ν¨ κ²½ν—
4. **κ°μΈ μƒν™** - μΈκ°„κ΄€κ³„, μ—¬ν–‰, μ·¨λ―Έ, κ±΄κ°•
5. **μ„±μ°° λ° μ μ‚°** - μΈμƒ κµν›, λ―Έλ λΉ„μ „

### π¤– μ§€λ¥ν• μ§λ¬Έ μ‹μ¤ν…
- **Static ν›„μ†μ§λ¬Έ**: λ―Έλ¦¬ μ •μλ κ³ ν’μ§ μ§λ¬ΈμΌλ΅ μΌκ΄€μ„± λ³΄μ¥
- **Dynamic ν›„μ†μ§λ¬Έ**: AIκ°€ μ‚¬μ©μ λ‹µλ³€μ— λ§μ¶° κ°μΈν™”λ μ§λ¬Έ μƒμ„±
- **μ‹¤μ‹κ°„ μ§„ν–‰λ¥ **: μ±•ν„°λ³„/μ „μ²΄ μ§„ν–‰μƒν™© μ¶”μ 

### π― μλ™ μ—ν”Όμ†λ“ μƒμ„±
- μΌμ • λ¶„λ‰ λ„λ‹¬μ‹ μλ™ κ°μ§€
- AIλ¥Ό ν™μ©ν• μμ„μ „ μ¤νƒ€μΌ λ³€ν™

## π€ μ‚¬μ©λ²•

### 1. μ„λ²„ μ‹μ‘
```bash
./gradlew bootRun
```
μ„λ²„ μ‹μ‘μ‹ μ±•ν„° λ°μ΄ν„°κ°€ μλ™μΌλ΅ μ΄κΈ°ν™”λ©λ‹λ‹¤.

### 2. μ›Ή μΈν„°νμ΄μ¤ μ ‘μ†
```
http://localhost:8080
```

### 3. μΈν„°λ·° μ‹μ‘
1. **β–¶ μ—ν”Όμ†λ“ μ‹μ‘** λ²„νΌ ν΄λ¦­
2. μ²« μ§λ¬Έμ΄ μλ™μΌλ΅ ν‘μ‹λ©λ‹λ‹¤
3. **π™οΈ λ…Ήμ μ‹μ‘**μΌλ΅ μμ„± λ‹µλ³€
4. **β–¶ λ‹¤μ μ§λ¬Έ λ°›κΈ°**λ΅ κ³„μ† μ§„ν–‰

### 4. μ§„ν–‰ μƒν™© ν™•μΈ
- μƒλ‹¨ μ§„ν–‰λ¥  λ°”μ—μ„ μ „μ²΄ μ§„ν–‰λ„ ν™•μΈ
- ν„μ¬ μ±•ν„°μ™€ λ‹¨κ³„ μ •λ³΄ μ‹¤μ‹κ°„ ν‘μ‹
- μ§λ¬Έ μ ν• (λ©”μΈ/ν›„μ†) κµ¬λ¶„ ν‘μ‹

## π”§ API μ‚¬μ©λ²•

### μ±•ν„° λ¨λ“λ΅ μ„Έμ… μ‹μ‘
```http
GET /api/conversation/stream?sessionId={sessionId}&useChapterMode=true
```

### λ‹¤μ μ§λ¬Έ μ”μ²­
```http
POST /api/conversation/next?sessionId={sessionId}
```

### μμ„± μΈμ‹ (STT)
```http
POST /api/stt/chunk
```

## π“ μ‘λ‹µ ν•μ‹

### QuestionResponse (SSE)
```json
{
  "text": "μ§λ¬Έ λ‚΄μ©",
  "currentChapter": "ν„μ¬ μ±•ν„°λ…",
  "currentStage": "ν„μ¬ λ‹¨κ³„λ…", 
  "questionType": "MAIN|FOLLOWUP_STATIC|FOLLOWUP_DYNAMIC",
  "overallProgress": 25,
  "chapterProgress": 50,
  "isLastQuestion": false
}
```

## π’΅ μ‹μ¤ν… μ¥μ 

1. **κµ¬μ΅°ν™”λ μ¤ν† λ¦¬ν…”λ§**: λ…Όλ¦¬μ μΈ μƒμ• μ‚¬ νλ¦„
2. **κ°μΈν™”**: Dynamic ν›„μ†μ§λ¬ΈμΌλ΅ λ§μ¶¤ν• μΈν„°λ·°
3. **μΌκ΄€μ„±**: Static ν›„μ†μ§λ¬ΈμΌλ΅ κΈ°λ³Έ ν’μ§ λ³΄μ¥
4. **ν™•μ¥μ„±**: μƒλ΅μ΄ μ±•ν„°/ν…ν”λ¦Ώ μ‰½κ² μ¶”κ°€
5. **νΈν™μ„±**: κΈ°μ΅΄ λ κ±°μ‹ μ‹μ¤ν…κ³Ό μ™„μ „ νΈν™

## π› οΈ ν™•μ¥ λ°©λ²•

### μƒλ΅μ΄ μ±•ν„° μ¶”κ°€
```java
// ChapterDataInitService.java
private void createNewChapter() {
    Chapter chapter = Chapter.builder()
        .chapterId("newChapter")
        .chapterName("μƒλ΅μ΄ μ±•ν„°")
        .chapterOrder(6)
        .build();
    chapterRepo.save(chapter);
    // ν…ν”λ¦Ώλ“¤ μ¶”κ°€...
}
```

### μƒλ΅μ΄ ν…ν”λ¦Ώ μ¶”κ°€
```java
ChapterTemplate newTemplate = ChapterTemplate.builder()
    .templateId("newTemplate")
    .mainQuestion("μƒλ΅μ΄ μ§λ¬Έ")
    .followUpType(FollowUpType.STATIC) // λλ” DYNAMIC
    .chapter(chapter)
    .build();
```

---

> μ΄μ  μλ―Έ μλ” λ€ν™”λ΅ μ§„μ •ν• μμ„μ „μ„ λ§λ“¤μ–΄λ³΄μ„Έμ”! π― 